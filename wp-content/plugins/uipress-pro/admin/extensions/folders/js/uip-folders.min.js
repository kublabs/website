const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n,pluginVersion=import.meta.url.split("?ver=")[1];import{createApp,getCurrentInstance,defineComponent,ref}from"../../../../../uipress-lite/assets/js/libs/vue-esm.js";const uipress=new window.uipClass;import*as contentFolder from"./modules/content-folder.min.js?ver=3.1.05";import*as newFolder from"./modules/new-folder.min.js?ver=3.1.05";import*as folderApp from"./modules/folder-app.min.js?ver=3.1.05";import*as loadingChart from"../../../../../uipress-lite/assets/js/uip/modules/uip-loading-chart.min.js?ver=3.1.05";import*as dropdown from"../../../../../uipress-lite/assets/js/uip/modules/uip-dropdown.min.js?ver=3.1.05";import*as colorPicker from"../../../../../uipress-lite/assets/js/uip/options/uip-color-picker.min.js?ver=3.1.05";let scriptHolder=document.getElementById("uip-folders-app"),postType=scriptHolder.getAttribute("postType"),limitToAuthorVal=scriptHolder.getAttribute("limitToAuthor"),limitToType=scriptHolder.getAttribute("limitToType");limitToAuthorVal&&""!=limitToAuthorVal||(limitToAuthorVal="uipfalse"),limitToType&&""!=limitToType||(limitToType="uipfalse");const uipFolderArgs={data:()=>({loading:!0,activeFolderID:"all",dragging:!1}),provide(){return{uipress:uipress,postTypes:[postType],limitToAuthor:limitToAuthorVal,limitToType:limitToType,setActiveFolderID:this.updateFolderID,getActiveFolderID:this.getFolderID,isDragging:this.isDragging,setDrag:this.setDragging,filterTableItems:this.filterTableItems}},created:function(){},mounted:function(){},computed:{returnGlobalData(){return this.uipGlobalData}},methods:{isDragging(){return this.dragging},setDragging(e){this.dragging=e},updateFolderID(e){if(this.activeFolderID=e,wp.media)if(wp.media.frames.browse){let o=wp.media.frames.browse.content.get().collection;void 0!==o&&(o.props.set({uip_folder_id:"remove"}),o.props.set({uip_folder_id:e}))}else{if(!wp.media.frame)return void this.filterTableItems(e);let o=wp.media.frame.content.get().collection;void 0!==o&&(o.props.set({uip_folder_id:"remove"}),o.props.set({uip_folder_id:e}))}else this.filterTableItems(e)},getFolderID(){return this.activeFolderID},filterTableItems(e){let o=this,t=new URLSearchParams(window.location.search),r=window.location.origin;t.set("uip_folder",e);let i=r+window.location.pathname+"?"+t.toString();jQuery.ajax(i,{success:function(e){let o=new DOMParser,t=e.trim(),r=o.parseFromString(t,"text/html").querySelector("#wpbody-content .wrap");document.querySelector("#wpbody-content .wrap").replaceWith(r);let i=new CustomEvent("uip_update_listeners");document.dispatchEvent(i)},error:function(e,t,r){o.uipress.notify(r,"","error",!0)}})}},template:"<folder-app></folder-app>"},uipFolderApp=createApp(uipFolderArgs);uipFolderApp.config.unwrapInjectedRef=!0,uipFolderApp.config.devtools=!0,uipFolderApp.component("content-folder",contentFolder.moduleData()),uipFolderApp.component("new-folder",newFolder.moduleData()),uipFolderApp.component("folder-app",folderApp.moduleData()),uipFolderApp.component("loading-chart",loadingChart.moduleData()),uipFolderApp.component("drop-down",dropdown.moduleData()),uipFolderApp.component("color-picker",colorPicker.moduleData()),uipFolderApp.config.errorHandler=function(e,o,t){uipress.notify(e,t,"error"),console.log(e)},uipFolderApp.mount("#uip-folder-app");