const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{selected:Array,name:String,placeholder:String,single:Boolean,translations:Object,updateRoles:Function},data:function(){return{thisSearchInput:"",options:[{name:"page_view",label:__("Page view","uipress-pro")},{name:"post_created",label:__("Post created","uipress-pro")},{name:"post_updated",label:__("Post updated","uipress-pro")},{name:"post_trashed",label:__("Post trashed","uipress-pro")},{name:"post_deleted",label:__("Post deleted","uipress-pro")},{name:"post_status_change",label:__("Post status change","uipress-pro")},{name:"trash_comment",label:__("Trashed comment","uipress-pro")},{name:"delete_comment",label:__("Deelete comment","uipress-pro")},{name:"plugin_activated",label:__("Plugin activated","uipress-pro")},{name:"plugin_deactivated",label:__("Plugin deactivated","uipress-pro")},{name:"plugin_deleted",label:__("Plugin deleted","uipress-pro")},{name:"user_login",label:__("User login","uipress-pro")},{name:"user_logout",label:__("User logout","uipress-pro")},{name:"option_added",label:__("Site option added","uipress-pro")},{name:"attachment_uploaded",label:__("Attachmnet uploaded","uipress-pro")},{name:"attachment_deleted",label:__("Attachmnet deleted","uipress-pro")},{name:"user_created",label:__("User created","uipress-pro")},{name:"user_deleted",label:__("User deleted","uipress-pro")},{name:"user_updated",label:__("User updated","uipress-pro")}],selectedOptions:this.selected,ui:{dropOpen:!1}}},computed:{formattedOptions(){return this.options}},watch:{selectedOptions:{handler(e,i){this.updateRoles(this.selectedOptions)},deep:!0}},inject:["uipress"],methods:{addSelected(e,i){this.ifSelected(e,i)?this.removeSelected(e,i):1==this.single?i[0]=e:i.push(e)},removeSelected(e,i){let t=i.indexOf(e);t>-1&&(i=i.splice(t,1))},ifSelected:(e,i)=>i.indexOf(e)>-1,ifInSearch(e,i){let t=e.toLowerCase(),n=i.toLowerCase();return!!t.includes(n)},onClickOutside(e){const i=e.path||(e.composedPath?e.composedPath():void 0);!i||i.includes(this.$el)||this.$el.contains(e.target)||this.closeThisComponent()},openThisComponent(){this.ui.dropOpen=!0,requestAnimationFrame(()=>{document.documentElement.addEventListener("click",this.onClickOutside,!1)})},closeThisComponent(){this.ui.dropOpen=!1,document.documentElement.removeEventListener("click",this.onClickOutside,!1)}},template:'\n      \n      <div class="uip-position-relative" @click="openThisComponent">\n        <div class="uip-padding-xs hover:uip-background-muted uip-border uip-border-round uip-w-100p uip-cursor-pointer uip-border-box" :class="{\'uip-active-outline\' : ui.dropOpen}"> \n          <div class="uip-flex uip-flex-center">\n            <div class="uip-flex-grow uip-margin-right-s">\n              <div>\n                <span class="uk-text-meta">{{name}}...</span>\n              </div>\n            </div>\n            <span class="uip-icon uip-text-muted">add</span>\n            <span v-if="selectedOptions.length > 0" class="uip-text-inverse uip-background-primary uip-border-round uip-text-s uip-w-18 uip-margin-left-xxs uip-text-center">\n              {{selectedOptions.length}}\n            </span>\n          </div>\n        </div>\n        <div v-if="ui.dropOpen" class="uip-position-absolute uip-background-default uip-border-round uip-border uip-w-100p uip-border-box uip-z-index-9 uip-margin-top-xs uip-overflow-hidden uip-right-0">\n          <div class="uip-flex uip-background-default uip-padding-xs uip-border-bottom uip-flex-center">\n            <span class="uip-icon uip-text-muted uip-margin-right-xs uip-text-l">search</span>\n            <input class="uip-blank-input uip-flex-grow" type="search"  \n            :placeholder="placeholder" v-model="thisSearchInput" autofocus>\n          </div>\n          <div class="uip-max-h-280 uip-overflow-auto">\n            <template v-for="option in formattedOptions">\n              <div class="uip-background-default uip-padding-xs hover:uip-background-muted" \n              @click="addSelected(option.name, selectedOptions)" \n              v-if="ifInSearch(option.name, thisSearchInput)" \n              style="cursor: pointer">\n                <div class="uip-flex uip-flex-row uip-flex-center">\n                  <div class="uip-flex uip-flex-center uip-flex-middle uip-margin-right-xs">\n                    <input type="checkbox" class="uip-checkbox" :name="option.name" :value="option.name" :checked="ifSelected(option.name, selectedOptions)">\n                  </div>\n                  <div class="uip-flex-grow">\n                    <div class="uip-text-bold uip-text-emphasis">{{option.label}}</div>\n                    <div class="uip-text-muted">{{option.name}}</div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>'}};