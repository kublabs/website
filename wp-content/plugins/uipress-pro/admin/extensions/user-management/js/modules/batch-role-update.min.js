export function moduleData(){return{props:{closePanel:Function},inject:["appData","uipress"],data:function(){return{allRecipients:this.$route.params.users.split(","),showAllRecipients:!1,translations:this.appData.translations,settings:{roles:[],replaceExisting:!1}}},mounted:function(){console.log("helloo")},computed:{rerturnRecipients(){return this.allRecipients}},methods:{removeRecipient(e){this.allRecipients.splice(e,1)},returnRoles(e){this.settings.roles=e},updateUsers(){let e=this,i=new FormData;i.append("action","uip_batch_update_roles"),i.append("security",uip_ajax.security),i.append("allRecipients",JSON.stringify(e.rerturnRecipients)),i.append("settings",JSON.stringify(e.settings)),e.uipress.callServer(uip_ajax.ajax_url,i).then(i=>{let n=i;n.error?e.uipress.notify(n.message,"","error"):(e.uipress.notify(n.message,"","success"),e.appData.refreshTable(),e.$router.push("/"))})}},template:'\n      <floating-panel closeRoute="/">\n        \n        <div class="uip-flex uip-flex-grow uip-flex-column uip-max-h-100p" >\n          \n          <div class="uip-padding-m uip-border-bottom uip-flex uip-flex-column uip-row-gap-xs" >\n            <div class="uip-text-bold uip-text-xl">{{translations.updateRoles}}</div>\n          </div>\n      \n          <div class="uip-padding-m uip-flex-grow uip-border-bottom uip-overflow-auto">\n            <div class="uip-flex uip-flex-column uip-row-gap-s">\n              <div class="uip-flex uip-flex-column uip-flex-start">\n                <div class="uip-text-muted uip-margin-bottom-xs">{{translations.Users}}</div>\n                \n                \n                \n                <div v-if="rerturnRecipients.length > 2" class="uip-flex uip-flex-wrap uip-max-h-280 uip-overflow-auto uip-margin-left-xxs uip-flex-center uip-margin-bottom-xs uip-overflow-visible" @click="showAllRecipients = !showAllRecipients">\n                  <template v-for="(item, index) in rerturnRecipients">\n                    <div v-if="index < 10" class="uip-w-20 uip-ratio-1-1 uip-text-s uip-background-primary-wash uip-border-circle uip-border-match uip-text-capitalize \n                    uip-text-center uip-line-height-1 uip-text-center uip-flex uip-flex-center uip-flex-middle uip-margin-left--8">\n                      <uip-tooltip :message="item" :delay="50">\n                        <span class="uip-link-default">{{item[0]}}</span>\n                      </uip-tooltip>  \n                    </div>\n                    \n                    <div v-else-if="index < 11" class="uip-link-muted uip-text-s uip-margin-left-xs">+{{rerturnRecipients.length - 10}} {{translations.others}}</div>\n                  </template>\n                </div>\n                \n                \n                <div v-if="showAllRecipients || rerturnRecipients.length < 3" class="uip-flex uip-flex-wrap uip-gap-xxs uip-row-gap-xxs uip-max-h-280 uip-overflow-auto">\n                  <template v-for="(item, index) in rerturnRecipients">\n                    <div class="uip-background-primary-wash uip-border-round uip-padding-xxs uip-text-bold uip-flex uip-gap-xxs uip-flex-center">\n                      {{item}}\n                      <span class="uip-icon uip-link-muted uip-cursor-icon" @click="removeRecipient(index)">cancel</span>\n                    </div>\n                  </template>\n                </div>\n                \n                \n                \n                \n              </div>\n              <div class="">\n                <div class="uip-text-muted uip-margin-bottom-xs">{{translations.roles}}</div>\n                \n                <role-select :selected="settings.roles"\n                :name="translations.assignRoles"\n                :translations="translations"\n                :single=\'false\'\n                :placeholder="translations.searchRoles"\n                :updateRoles="returnRoles"></role-select>\n              </div>\n              <label class="uip-flex uip-flex-row uip-gap-xs uip-flex-center">\n              \n                <input type="checkbox" class="uip-checkbox uip-w-100p uip-margin-remove" v-model="settings.replaceExisting">\n                <div class="uip-text-muted ">{{translations.replaceExistingRoles}}</div>\n                \n              </label>\n            </div>\n          </div>\n          \n          <div class="uip-padding-m uip-flex uip-flex-between">\n          \n            <router-link to="/" class="uip-button-default uip-no-underline">{{translations.cancel}}</router-link>\n            <button class="uip-button-primary uip-flex uip-gap-xxs uip-flex-center" @click="updateUsers()">\n              <span>{{translations.updateRoles}}</span>\n              <span class="uip-icon">bookmarks</span>\n            </button>\n          </div>\n        \n        </div>\n      \n      </floating-panel>\n      '}};